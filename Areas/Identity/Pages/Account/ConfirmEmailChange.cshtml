@page
@model POETWeb.Areas.Identity.Pages.Account.ConfirmEmailChangeModel
@{
    ViewData["Title"] = "Confirm email change";
    var msg = Model.StatusMessage ?? "";
    var ok = msg.StartsWith("Thank you", StringComparison.OrdinalIgnoreCase);
}

<div class="email-wrap">
    <div class="email-hero">
        <div class="container-xxl px-4 d-flex align-items-center justify-content-between h-100">
            <div class="text-white">
                <div class="small opacity-75">Account</div>
                <h1 class="h3 fw-bold mb-0">Confirm email change</h1>
            </div>
        </div>
    </div>

    <div class="container-xxl px-4">
        <div class="result-card shadow-sm">
            <div class="result-icon @(ok ? "ok" : "err")" aria-hidden="true">
                @if (ok)
                {
                    <svg viewBox="0 0 24 24" width="28" height="28"><path fill="currentColor" d="M9 16.2l-3.5-3.5-1.4 1.4L9 19 20.3 7.7 18.9 6.3z" /></svg>
                }
                else
                {
                    <svg viewBox="0 0 24 24" width="28" height="28"><path fill="currentColor" d="M12 2a10 10 0 100 20 10 10 0 000-20zm1 14H11v-2h2v2zm0-4H11V7h2v5z" /></svg>
                }
            </div>

            <h2 class="h5 fw-bold mb-1">@ViewData["Title"]</h2>
            <p class="mb-3 text-muted">@Model.StatusMessage</p>

            <div class="d-flex flex-wrap gap-2 justify-content-center">
                <a asp-page="/Index" class="btn btn-primary">Back to Home</a>
                <a asp-area="Identity" asp-page="/Account/Manage/Index" class="btn btn-light border">Profile settings</a>
            </div>

            @* hint if ok *@
            @if (ok)
            {
                <div class="small text-muted mt-3">
                    Your new email is now active. You may need to sign in again on other devices.
                </div>
            }
        </div>
    </div>
</div>

<style>
    .email-hero {
        height: 140px;
        background: linear-gradient(90deg,#22d3ee,#38bdf8);
        color: #fff;
        border-bottom: 1px solid #e5e7eb;
    }

    .result-card {
        max-width: 760px;
        margin: -30px auto 0;
        background: #fff;
        border: 1px solid #eef2f7;
        border-radius: 16px;
        padding: 22px;
        text-align: center;
    }

    .result-icon {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin: -46px auto 14px;
        box-shadow: 0 6px 16px rgba(0,0,0,.08);
    }

        .result-icon.ok {
            background: #ecfdf5;
            color: #059669;
        }

        .result-icon.err {
            background: #fef2f2;
            color: #dc2626;
        }

    .btn {
        border-radius: 10px;
        padding: .55rem 1rem;
    }
</style>
